import{b as jt}from"./batch-processor.94093b2a.js";var dt={exports:{}},It=dt.exports={};It.forEach=function(r,o){for(var s=0;s<r.length;s++){var e=o(r[s]);if(e)return e}};var Ot=function(r){var o=r.stateHandler.getState;function s(f){var c=o(f);return c&&!!c.isDetectable}function e(f){o(f).isDetectable=!0}function l(f){return!!o(f).busy}function S(f,c){o(f).busy=!!c}return{isDetectable:s,markAsDetectable:e,isBusy:l,markBusy:S}},Nt=function(r){var o={};function s(f){var c=r.get(f);return c===void 0?[]:o[c]||[]}function e(f,c){var E=r.get(f);o[E]||(o[E]=[]),o[E].push(c)}function l(f,c){for(var E=s(f),d=0,p=E.length;d<p;++d)if(E[d]===c){E.splice(d,1);break}}function S(f){var c=s(f);!c||(c.length=0)}return{get:s,add:e,removeListener:l,removeAllListeners:S}},Mt=function(){var r=1;function o(){return r++}return{generate:o}},Pt=function(r){var o=r.idGenerator,s=r.stateHandler.getState;function e(S){var f=s(S);return f&&f.id!==void 0?f.id:null}function l(S){var f=s(S);if(!f)throw new Error("setId required the element to have a resize detection state.");var c=o.generate();return f.id=c,c}return{get:e,set:l}},Wt=function(r){function o(){}var s={log:o,warn:o,error:o};if(!r&&window.console){var e=function(l,S){l[S]=function(){var c=console[S];if(c.apply)c.apply(console,arguments);else for(var E=0;E<arguments.length;E++)c(arguments[E])}};e(s,"log"),e(s,"warn"),e(s,"error")}return s},st={exports:{}},pt=st.exports={};pt.isIE=function(r){function o(){var e=navigator.userAgent.toLowerCase();return e.indexOf("msie")!==-1||e.indexOf("trident")!==-1||e.indexOf(" edge/")!==-1}if(!o())return!1;if(!r)return!0;var s=function(){var e,l=3,S=document.createElement("div"),f=S.getElementsByTagName("i");do S.innerHTML="<!--[if gt IE "+ ++l+"]><i></i><![endif]-->";while(f[0]);return l>4?l:e}();return r===s};pt.isLegacyOpera=function(){return!!window.opera};var ct="_erd";function _t(r){return r[ct]={},yt(r)}function yt(r){return r[ct]}function Bt(r){delete r[ct]}var Rt={initState:_t,getState:yt,cleanState:Bt},Z=st.exports,qt=function(r){r=r||{};var o=r.reporter,s=r.batchProcessor,e=r.stateHandler.getState;if(!o)throw new Error("Missing required dependency: reporter.");function l(d,p){function C(){p(d)}if(Z.isIE(8))e(d).object={proxy:C},d.attachEvent("onresize",C);else{var P=c(d);if(!P)throw new Error("Element is not detectable by this strategy.");P.contentDocument.defaultView.addEventListener("resize",C)}}function S(d){var p=r.important?" !important; ":"; ";return(d.join(p)+p).trim()}function f(d,p,C){C||(C=p,p=d,d=null),d=d||{},d.debug;function P(m,T){var R=S(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),q=!1,O=window.getComputedStyle(m),x=m.offsetWidth,k=m.offsetHeight;e(m).startSize={width:x,height:k};function a(){function t(){if(O.position==="static"){m.style.setProperty("position","relative",d.important?"important":"");var D=function(H,b,L,u){function g(z){return z.replace(/[^-\d\.]/g,"")}var j=L[u];j!=="auto"&&g(j)!=="0"&&(H.warn("An element that is positioned static has style."+u+"="+j+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+u+" will be set to 0. Element: ",b),b.style.setProperty(u,"0",d.important?"important":""))};D(o,m,O,"top"),D(o,m,O,"right"),D(o,m,O,"bottom"),D(o,m,O,"left")}}function y(){q||t();function D(b,L){if(!b.contentDocument){var u=e(b);u.checkForObjectDocumentTimeoutId&&window.clearTimeout(u.checkForObjectDocumentTimeoutId),u.checkForObjectDocumentTimeoutId=setTimeout(function(){u.checkForObjectDocumentTimeoutId=0,D(b,L)},100);return}L(b.contentDocument)}var H=this;D(H,function(L){T(m)})}O.position!==""&&(t(),q=!0);var n=document.createElement("object");n.style.cssText=R,n.tabIndex=-1,n.type="text/html",n.setAttribute("aria-hidden","true"),n.onload=y,Z.isIE()||(n.data="about:blank"),!!e(m)&&(m.appendChild(n),e(m).object=n,Z.isIE()&&(n.data="about:blank"))}s?s.add(a):a()}Z.isIE(8)?C(p):P(p,C)}function c(d){return e(d).object}function E(d){if(!!e(d)){var p=c(d);!p||(Z.isIE(8)?d.detachEvent("onresize",p.proxy):d.removeChild(p),e(d).checkForObjectDocumentTimeoutId&&window.clearTimeout(e(d).checkForObjectDocumentTimeoutId),delete e(d).object)}}return{makeDetectable:f,addListener:l,uninstall:E}},Ut=dt.exports.forEach,Ft=function(r){r=r||{};var o=r.reporter,s=r.batchProcessor,e=r.stateHandler.getState;r.stateHandler.hasState;var l=r.idHandler;if(!s)throw new Error("Missing required dependency: batchProcessor");if(!o)throw new Error("Missing required dependency: reporter.");var S=p(),f="erd_scroll_detection_scrollbar_style",c="erd_scroll_detection_container";function E(a){C(a,f,c)}E(window.document);function d(a){var t=r.important?" !important; ":"; ";return(a.join(t)+t).trim()}function p(){var a=500,t=500,y=document.createElement("div");y.style.cssText=d(["position: absolute","width: "+a*2+"px","height: "+t*2+"px","visibility: hidden","margin: 0","padding: 0"]);var n=document.createElement("div");n.style.cssText=d(["position: absolute","width: "+a+"px","height: "+t+"px","overflow: scroll","visibility: none","top: "+-a*3+"px","left: "+-t*3+"px","visibility: hidden","margin: 0","padding: 0"]),n.appendChild(y),document.body.insertBefore(n,document.body.firstChild);var D=a-n.clientWidth,H=t-n.clientHeight;return document.body.removeChild(n),{width:D,height:H}}function C(a,t,y){function n(L,u){u=u||function(j){a.head.appendChild(j)};var g=a.createElement("style");return g.innerHTML=L,g.id=t,u(g),g}if(!a.getElementById(t)){var D=y+"_animation",H=y+"_animation_active",b=`/* Created by the element-resize-detector library. */
`;b+="."+y+" > div::-webkit-scrollbar { "+d(["display: none"])+` }

`,b+="."+H+" { "+d(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+D,"animation-name: "+D])+` }
`,b+="@-webkit-keyframes "+D+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,b+="@keyframes "+D+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",n(b)}}function P(a){a.className+=" "+c+"_animation_active"}function m(a,t,y){if(a.addEventListener)a.addEventListener(t,y);else if(a.attachEvent)a.attachEvent("on"+t,y);else return o.error("[scroll] Don't know how to add event listeners.")}function T(a,t,y){if(a.removeEventListener)a.removeEventListener(t,y);else if(a.detachEvent)a.detachEvent("on"+t,y);else return o.error("[scroll] Don't know how to remove event listeners.")}function R(a){return e(a).container.childNodes[0].childNodes[0].childNodes[0]}function q(a){return e(a).container.childNodes[0].childNodes[0].childNodes[1]}function O(a,t){var y=e(a).listeners;if(!y.push)throw new Error("Cannot add listener to an element that is not detectable.");e(a).listeners.push(t)}function x(a,t,y){y||(y=t,t=a,a=null),a=a||{};function n(){if(a.debug){var i=Array.prototype.slice.call(arguments);if(i.unshift(l.get(t),"Scroll: "),o.log.apply)o.log.apply(null,i);else for(var h=0;h<i.length;h++)o.log(i[h])}}function D(i){function h(w){var N=w.getRootNode&&w.getRootNode().contains(w);return w===w.ownerDocument.body||w.ownerDocument.body.contains(w)||N}return!h(i)||window.getComputedStyle(i)===null}function H(i){var h=e(i).container.childNodes[0],w=window.getComputedStyle(h);return!w.width||w.width.indexOf("px")===-1}function b(){var i=window.getComputedStyle(t),h={};return h.position=i.position,h.width=t.offsetWidth,h.height=t.offsetHeight,h.top=i.top,h.right=i.right,h.bottom=i.bottom,h.left=i.left,h.widthCSS=i.width,h.heightCSS=i.height,h}function L(){var i=b();e(t).startSize={width:i.width,height:i.height},n("Element start size",e(t).startSize)}function u(){e(t).listeners=[]}function g(){if(n("storeStyle invoked."),!e(t)){n("Aborting because element has been uninstalled");return}var i=b();e(t).style=i}function j(i,h,w){e(i).lastWidth=h,e(i).lastHeight=w}function z(i){return R(i).childNodes[0]}function G(){return 2*S.width+1}function et(){return 2*S.height+1}function rt(i){return i+10+G()}function it(i){return i+10+et()}function kt(i){return i*2+G()}function mt(i){return i*2+et()}function lt(i,h,w){var N=R(i),V=q(i),Y=rt(h),K=it(w),A=kt(h),v=mt(w);N.scrollLeft=Y,N.scrollTop=K,V.scrollLeft=A,V.scrollTop=v}function ut(){var i=e(t).container;if(!i){i=document.createElement("div"),i.className=c,i.style.cssText=d(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),e(t).container=i,P(i),t.appendChild(i);var h=function(){e(t).onRendered&&e(t).onRendered()};m(i,"animationstart",h),e(t).onAnimationStart=h}return i}function Dt(){function i(){var M=e(t).style;if(M.position==="static"){t.style.setProperty("position","relative",a.important?"important":"");var B=function(X,J,zt,at){function At(Tt){return Tt.replace(/[^-\d\.]/g,"")}var ot=zt[at];ot!=="auto"&&At(ot)!=="0"&&(X.warn("An element that is positioned static has style."+at+"="+ot+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+at+" will be set to 0. Element: ",J),J.style[at]=0)};B(o,t,M,"top"),B(o,t,M,"right"),B(o,t,M,"bottom"),B(o,t,M,"left")}}function h(M,B,X,J){return M=M?M+"px":"0",B=B?B+"px":"0",X=X?X+"px":"0",J=J?J+"px":"0",["left: "+M,"top: "+B,"right: "+J,"bottom: "+X]}if(n("Injecting elements"),!e(t)){n("Aborting because element has been uninstalled");return}i();var w=e(t).container;w||(w=ut());var N=S.width,V=S.height,Y=d(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),K=d(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(h(-(1+N),-(1+V),-V,-N))),A=d(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),v=d(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),I=d(["position: absolute","left: 0","top: 0"]),$=d(["position: absolute","width: 200%","height: 200%"]),W=document.createElement("div"),_=document.createElement("div"),Q=document.createElement("div"),ht=document.createElement("div"),nt=document.createElement("div"),vt=document.createElement("div");W.dir="ltr",W.style.cssText=Y,W.className=c,_.className=c,_.style.cssText=K,Q.style.cssText=A,ht.style.cssText=I,nt.style.cssText=v,vt.style.cssText=$,Q.appendChild(ht),nt.appendChild(vt),_.appendChild(Q),_.appendChild(nt),W.appendChild(_),w.appendChild(W);function gt(){e(t).onExpand&&e(t).onExpand()}function bt(){e(t).onShrink&&e(t).onShrink()}m(Q,"scroll",gt),m(nt,"scroll",bt),e(t).onExpandScroll=gt,e(t).onShrinkScroll=bt}function Ct(){function i(A,v,I){var $=z(A),W=rt(v),_=it(I);$.style.setProperty("width",W+"px",a.important?"important":""),$.style.setProperty("height",_+"px",a.important?"important":"")}function h(A){var v=t.offsetWidth,I=t.offsetHeight,$=v!==e(t).lastWidth||I!==e(t).lastHeight;n("Storing current size",v,I),j(t,v,I),s.add(0,function(){if(!!$){if(!e(t)){n("Aborting because element has been uninstalled");return}if(!w()){n("Aborting because element container has not been initialized");return}if(a.debug){var _=t.offsetWidth,Q=t.offsetHeight;(_!==v||Q!==I)&&o.warn(l.get(t),"Scroll: Size changed before updating detector elements.")}i(t,v,I)}}),s.add(1,function(){if(!e(t)){n("Aborting because element has been uninstalled");return}if(!w()){n("Aborting because element container has not been initialized");return}lt(t,v,I)}),$&&A&&s.add(2,function(){if(!e(t)){n("Aborting because element has been uninstalled");return}if(!w()){n("Aborting because element container has not been initialized");return}A()})}function w(){return!!e(t).container}function N(){function A(){return e(t).lastNotifiedWidth===void 0}n("notifyListenersIfNeeded invoked");var v=e(t);if(A()&&v.lastWidth===v.startSize.width&&v.lastHeight===v.startSize.height)return n("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(v.lastWidth===v.lastNotifiedWidth&&v.lastHeight===v.lastNotifiedHeight)return n("Not notifying: Size already notified");n("Current size not notified, notifying..."),v.lastNotifiedWidth=v.lastWidth,v.lastNotifiedHeight=v.lastHeight,Ut(e(t).listeners,function(I){I(t)})}function V(){if(n("startanimation triggered."),H(t)){n("Ignoring since element is still unrendered...");return}n("Element rendered.");var A=R(t),v=q(t);(A.scrollLeft===0||A.scrollTop===0||v.scrollLeft===0||v.scrollTop===0)&&(n("Scrollbars out of sync. Updating detector elements..."),h(N))}function Y(){if(n("Scroll detected."),H(t)){n("Scroll event fired while unrendered. Ignoring...");return}h(N)}if(n("registerListenersAndPositionElements invoked."),!e(t)){n("Aborting because element has been uninstalled");return}e(t).onRendered=V,e(t).onExpand=Y,e(t).onShrink=Y;var K=e(t).style;i(t,K.width,K.height)}function Lt(){if(n("finalizeDomMutation invoked."),!e(t)){n("Aborting because element has been uninstalled");return}var i=e(t).style;j(t,i.width,i.height),lt(t,i.width,i.height)}function Ht(){y(t)}function ft(){n("Installing..."),u(),L(),s.add(0,g),s.add(1,Dt),s.add(2,Ct),s.add(3,Lt),s.add(4,Ht)}n("Making detectable..."),D(t)?(n("Element is detached"),ut(),n("Waiting until element is attached..."),e(t).onRendered=function(){n("Element is now attached"),ft()}):ft()}function k(a){var t=e(a);!t||(t.onExpandScroll&&T(R(a),"scroll",t.onExpandScroll),t.onShrinkScroll&&T(q(a),"scroll",t.onShrinkScroll),t.onAnimationStart&&T(t.container,"animationstart",t.onAnimationStart),t.container&&a.removeChild(t.container))}return{makeDetectable:x,addListener:O,uninstall:k,initDocument:E}},tt=dt.exports.forEach,Gt=Ot,Vt=Nt,$t=Mt,Jt=Pt,Yt=Wt,wt=st.exports,Kt=jt,U=Rt,Qt=qt,Xt=Ft;function St(r){return Array.isArray(r)||r.length!==void 0}function Et(r){if(Array.isArray(r))return r;var o=[];return tt(r,function(s){o.push(s)}),o}function xt(r){return r&&r.nodeType===1}var te=function(r){r=r||{};var o;if(r.idHandler)o={get:function(x){return r.idHandler.get(x,!0)},set:r.idHandler.set};else{var s=$t(),e=Jt({idGenerator:s,stateHandler:U});o=e}var l=r.reporter;if(!l){var S=l===!1;l=Yt(S)}var f=F(r,"batchProcessor",Kt({reporter:l})),c={};c.callOnAdd=!!F(r,"callOnAdd",!0),c.debug=!!F(r,"debug",!1);var E=Vt(o),d=Gt({stateHandler:U}),p,C=F(r,"strategy","object"),P=F(r,"important",!1),m={reporter:l,batchProcessor:f,stateHandler:U,idHandler:o,important:P};if(C==="scroll"&&(wt.isLegacyOpera()?(l.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),C="object"):wt.isIE(9)&&(l.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),C="object")),C==="scroll")p=Xt(m);else if(C==="object")p=Qt(m);else throw new Error("Invalid strategy name: "+C);var T={};function R(x,k,a){function t(L){var u=E.get(L);tt(u,function(j){j(L)})}function y(L,u,g){E.add(u,g),L&&g(u)}if(a||(a=k,k=x,x={}),!k)throw new Error("At least one element required.");if(!a)throw new Error("Listener required.");if(xt(k))k=[k];else if(St(k))k=Et(k);else return l.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var n=0,D=F(x,"callOnAdd",c.callOnAdd),H=F(x,"onReady",function(){}),b=F(x,"debug",c.debug);tt(k,function(u){U.getState(u)||(U.initState(u),o.set(u));var g=o.get(u);if(b&&l.log("Attaching listener to element",g,u),!d.isDetectable(u)){if(b&&l.log(g,"Not detectable."),d.isBusy(u)){b&&l.log(g,"System busy making it detectable"),y(D,u,a),T[g]=T[g]||[],T[g].push(function(){n++,n===k.length&&H()});return}return b&&l.log(g,"Making detectable..."),d.markBusy(u,!0),p.makeDetectable({debug:b,important:P},u,function(z){if(b&&l.log(g,"onElementDetectable"),U.getState(z)){d.markAsDetectable(z),d.markBusy(z,!1),p.addListener(z,t),y(D,z,a);var G=U.getState(z);if(G&&G.startSize){var et=z.offsetWidth,rt=z.offsetHeight;(G.startSize.width!==et||G.startSize.height!==rt)&&t(z)}T[g]&&tt(T[g],function(it){it()})}else b&&l.log(g,"Element uninstalled before being detectable.");delete T[g],n++,n===k.length&&H()})}b&&l.log(g,"Already detecable, adding listener."),y(D,u,a),n++}),n===k.length&&H()}function q(x){if(!x)return l.error("At least one element is required.");if(xt(x))x=[x];else if(St(x))x=Et(x);else return l.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");tt(x,function(k){E.removeAllListeners(k),p.uninstall(k),U.cleanState(k)})}function O(x){p.initDocument&&p.initDocument(x)}return{listenTo:R,removeListener:E.removeListener,removeAllListeners:E.removeAllListeners,uninstall:q,initDocument:O}};function F(r,o,s){var e=r[o];return e==null&&s!==void 0?s:e}export{te as e};
