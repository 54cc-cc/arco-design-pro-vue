var w=(e,o,n)=>new Promise((l,f)=>{var z=s=>{try{g(n.next(s))}catch(u){f(u)}},c=s=>{try{g(n.throw(s))}catch(u){f(u)}},g=s=>s.done?l(s.value):Promise.resolve(s.value).then(z,c);g((n=n.apply(e,o)).next())});/* empty css              */import{_ as W}from"./plugin-vue_export-helper.21dcd24c.js";import{d as G,t as A,r as Y,g as I,l as K,b as y,o as Q,_ as Z,U as ee,T as te,ao as ie,aG as C,L as oe,n as M,M as E,N as d,G as m,v as $,x as _,H as j,J as ne,ac as re,aH as R,s as se,h as ae,q as le,c as F}from"./index.1700bd90.js";import{R as ce,u as ue}from"./resize-trigger.a5b9043b.js";import"./ResizeObserver.es.bd9ff68d.js";function D(e){const o=ee(e)?parseFloat(e):e;let n="";return te(e)||String(o)===e?n=o>1?"px":"%":n="px",{size:o,unit:n,isPx:n==="px"}}function P({size:e,defaultSize:o,containerSize:n}){const l=D(e!=null?e:o);return l.isPx?l.size:l.size*n}function pe(e,o){return parseFloat(e)/parseFloat(o)}const de=G({name:"Split",components:{ResizeTrigger:ce},props:{component:{type:String,default:"div"},direction:{type:String,default:"horizontal"},size:{type:[Number,String],default:void 0},defaultSize:{type:[Number,String],default:.5},min:{type:[Number,String]},max:{type:[Number,String]},disabled:{type:Boolean,default:!1}},emits:{moveStart:e=>!0,moving:e=>!0,moveEnd:e=>!0,"update:size":e=>!0},setup(e,{emit:o}){const{direction:n,size:l,defaultSize:f,min:z,max:c}=A(e),g=Y(0),s=Y(),u=I("split"),[S,L]=ue(f.value,K({value:l})),k=y(()=>D(S.value)),p=y(()=>n.value==="horizontal"),q=y(()=>[u,{[`${u}-horizontal`]:p.value,[`${u}-vertical`]:!p.value}]),J=y(()=>{const{size:t,unit:i,isPx:r}=k.value;return{flex:`0 0 calc(${r?t:t*100}${i} - ${g.value/2}px)`}}),a={startPageX:0,startPageY:0,startContainerSize:0,startSize:0};function T(){return w(this,null,function*(){const t=()=>{var i,r;return p.value?(i=s.value)==null?void 0:i.clientWidth:((r=s.value)==null?void 0:r.clientHeight)||0};return(!s.value||t())&&(yield ie()),t()})}function B(t,i){if(!i)return;const r=k.value.isPx?`${t}px`:pe(t,i);S.value!==r&&(L(r),o("update:size",r))}function H(t,i){const r=P({size:t,containerSize:i}),h=P({size:z.value,defaultSize:"0px",containerSize:i}),b=P({size:c.value,defaultSize:`${i}px`,containerSize:i});let v=r;return v=Math.max(v,h),v=Math.min(v,b),v}function V({startContainerSize:t,startSize:i,startPosition:r,endPosition:h}){const b=P({size:i,containerSize:t});return H(`${b+(h-r)}px`,t)}function X(t){o("moving",t);const i=p.value?V({startContainerSize:a.startContainerSize,startSize:a.startSize,startPosition:a.startPageX,endPosition:t.pageX}):V({startContainerSize:a.startContainerSize,startSize:a.startSize,startPosition:a.startPageY,endPosition:t.pageY});B(i,a.startContainerSize)}function x(t){R(window,"mousemove",X),R(window,"mouseup",x),R(window,"contextmenu",x),document.body.style.cursor="default",o("moveEnd",t)}function O(t){return w(this,null,function*(){o("moveStart",t),a.startPageX=t.pageX,a.startPageY=t.pageY,a.startContainerSize=yield T(),a.startSize=S.value,C(window,"mousemove",X),C(window,"mouseup",x),C(window,"contextmenu",x),document.body.style.cursor=p.value?"col-resize":"row-resize"})}function U(t){const{width:i,height:r}=t.contentRect;g.value=p.value?i:r}return Q(()=>w(this,null,function*(){const t=yield T(),i=H(S.value,t);B(i,t)})),{prefixCls:u,classNames:q,isHorizontal:p,wrapperRef:s,onMoveStart:O,onTriggerResize:U,firstPaneStyles:J}}});function fe(e,o,n,l,f,z){const c=oe("ResizeTrigger");return M(),E(re(e.component),{ref:"wrapperRef",class:_(e.classNames)},{default:d(()=>[m("div",{class:_([`${e.prefixCls}-pane`,`${e.prefixCls}-pane-first`]),style:j(e.firstPaneStyles)},[$(e.$slots,"first")],6),e.disabled?ne("v-if",!0):(M(),E(c,{key:0,"prefix-cls":`${e.prefixCls}-trigger`,direction:e.isHorizontal?"vertical":"horizontal",onMousedown:e.onMoveStart,onResize:e.onTriggerResize},{default:d(()=>[$(e.$slots,"resize-trigger")]),icon:d(()=>[$(e.$slots,"resize-trigger-icon")]),_:3},8,["prefix-cls","direction","onMousedown","onResize"])),m("div",{class:_([`${e.prefixCls}-pane`,`${e.prefixCls}-pane-second`])},[$(e.$slots,"second")],2)]),_:3},8,["class"])}var N=Z(de,[["render",fe]]);const ge=Object.assign(N,{install:(e,o)=>{se(e,o);const n=ae(o);e.component(n+N.name,N)}});const me=G({name:"SplitDemo",setup(){return{}}}),ze={class:"container"},ve=m("div",{style:{"background-color":"#f38181",width:"100%",height:"100%"}},"Right",-1),Se=m("div",{style:{"background-color":"#fce38a",width:"100%",height:"100%"}},"Top",-1),xe=m("div",{style:{"background-color":"#95e1d3",width:"100%",height:"100%"}},"Bottom ",-1);function he(e,o,n,l,f,z){const c=ge;return M(),le("div",ze,[F(c,{style:j({height:"500px",border:"1px solid var(--color-border)"})},{first:d(()=>[ve]),second:d(()=>[m("div",null,[F(c,{direction:"vertical",style:{height:"495px"}},{first:d(()=>[Se]),second:d(()=>[xe]),_:1})])]),_:1},8,["style"])])}var _e=W(me,[["render",he]]);export{_e as default};
